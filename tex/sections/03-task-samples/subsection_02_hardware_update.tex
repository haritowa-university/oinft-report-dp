\subsection{Выбор оптимальной стратегии оборудования}

Важной экономической проблемой является своевременное обновление оборудования: автомобилей, станков, телевизоров, магнитол и т. п. Старение оборудования включает физический и моральный износ, в результате чего растут затраты на ремонт и обслуживание, снижается производительность труда и ликвидная стоимость. Задача заключается в определении оптимальных сроков замены старого оборудования. Критерием оптимальности являются доход от эксплуатации оборудования (задача максимизации) либо суммарные затраты на эксплуатацию в течение планируемого периода (задача минимизации).

Предположим, что планируется эксплуатация оборудования в течение некоторого периода времени продолжительностью $n$ лет. Оборудование имеет тенденцию с течением времени стареть и приносить все меньший доход $r(t)$ ($t$ – возраст оборудования). При этом есть возможность в начале любого года продать устаревшее оборудование за цену $S(t)$, которая также зависит от возраста $t$, и купить новое оборудование за цену $P$.

Под возрастом оборудования понимается период эксплуатации оборудования после последней замены, определенный в годах. Требуется найти оптимальный план замены оборудования с тем, чтобы суммарный доход за все $n$ лет был бы максимальным, учитывая, что к началу эксплуатации возраст оборудования составлял $t_0$ лет.

Исходными данными в задаче являются доход $r(t)$ от эксплуатации в течение одного года оборудования возраста $t$ лет, остаточная стоимость $S(t)$, цена нового оборудования $P$ и начальный возраст оборудования $t_0$, изменения которых представлены в таблице \ref{table:hardware:arguments:change}.


\begin{table}[!ht]
	\caption{Изменение исходных данных со временем}
	\label{table:hardware:arguments:change}
  \centering
  \begin{tabularx}{\linewidth}{ |X|X|X|X|X| }
	\hline
	$t$ & $0$ & $1$ & $ \textellipsis $ & $n$\\
	\hline
	$r$ & $r(0)$ & $r(1)$ & $ \textellipsis $ & $r(n)$\\
	\hline
	$S$ & $S(0)$ & $S(1)$ & $ \textellipsis $ & $S(n)$\\
	\hline
  \end{tabularx}
\end{table}

При составлении динамической модели выбора оптимальной стратегии обновления оборудования процесс замены рассматривается как $n$-шаговый, т. е. период эксплуатации разбивается на $n$-шагов.

Выберем в качестве шага оптимизацию плана замены оборудования с $k$-го по $n$-й годы. Очевидно, что доход от эксплуатации оборудования за эти годы будет зависеть от возраста оборудования к началу рассматриваемого шага, т. е. $k$-го года.

Поскольку процесс оптимизации ведется с последнего шага $(k = n)$, то на $k$-м шаге неизвестно, в какие годы с первого по $(k-1)$-й должна осуществляться замена и, соответственно, неизвестен возраст оборудования к началу $k$-го года. Возраст оборудования, который определяет состояние системы, обозначим $t$. На величину $t$ накладывается следующее ограничение: $1 \leq t \leq t_0 + k - 1$.

Это выражение свидетельствует о том, что $t$ не может превышать возраст оборудования за $(k–1)$-й год его эксплуатации с учетом возраста к началу первого года, который составляет $t_0$ лет; и не может быть меньше единицы (этот возраст оборудование будет иметь к началу $k$-го года, если замена его произошла в начале предыдущего $(k–1)$-го года).

Таким образом, переменная $t$ в данной задаче является переменной состояния системы на $k$-м шаге. Переменной управления на $k$-м шаге является логическая переменная, которая может принимать одно из двух значений: сохранить (С) или заменить (З) оборудование в начале $k$-го года:

TODO

Функцию Беллмана $F_k(t)$ определяют как максимально возможный доход от эксплуатации оборудования за годы с $k$-го по $n$-й, если к началу $k$-го возраст оборудования составлял $t$ лет. Применяя то или иное управление, система переходит в новое состояние. Так, например, если в начале $k$-го года оборудование сохраняется, то к началу $(k + 1)$-го года его возраст увеличится на единицу (состояние системы станет $t+1$), в случае замены старого оборудования новое достигнет к началу $(k + 1)$-го года возраста $t = 1$ год.

На этой основе можно записать уравнение, которое позволяет рекуррентно вычислить функции Беллмана, опираясь на результаты предыдущего шага. Для каждого варианта управления доход определяется как сумма двух слагаемых: непосредственного результата управления и его последствий.

Если в начале каждого года сохраняется оборудование, возраст которого $t$ лет, то доход за этот год составит $r(t)$. К началу $(k+1)$-го года возраст оборудования достигнет $(t+1)$ и максимально возможный доход за оставшиеся годы (с $(k+1)$-го по $n$-й) составит $F_{k+1}(t+1)$. Если в начале $k$-го года принято решение о замене оборудования, то продается старое оборудование возраста $t$ лет по цене $S(t)$, приобретается новое за $P$ единиц, а эксплуатация его в течение $k$-го года нового оборудования принесет прибыль $r(0)$. К началу следующего года возраст оборудования составит 1 год и за все оставшиеся годы с $(k+1)$-го по $n$-й максимально возможный доход будет $F_{k+1}(1)$. Из двух возможных вариантов управления выбирается тот, который приносит максимальный доход.

Функция $F_k(t)$ вычисляется на каждом шаге управления для всех $1 \leq t \leq t_0 + k – 1$. Управление при котором достигается максимум дохода, является оптимальным.

Значения функции $F_n(t)$, определяемые $F_{n-1}(t)$, $F_{n-2}(t)$ вплоть до $F_1(t)$. $F_1(t_0)$ представляют собой возможные доходы за все годы. Максимум дохода достигается при некотором управлении, применяя которое на первом году, мы определяем возраст оборудования к началу второго года. Для данного возраста оборудования выбирается управление, при котором достигается максимум дохода за годы со второго по $n$-й и так далее. В результате на этапе безусловной оптимизации определяются годы, в начале которых следует произвести замену оборудования.